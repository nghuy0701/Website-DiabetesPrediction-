# ğŸ©º Diabetes Prediction Web Application# Diabetes Prediction Web Application



á»¨ng dá»¥ng web dá»± Ä‘oÃ¡n bá»‡nh tiá»ƒu Ä‘Æ°á»ng sá»­ dá»¥ng Machine Learning vá»›i giao diá»‡n thÃ¢n thiá»‡n vÃ  API RESTful.Há»‡ thá»‘ng dá»± Ä‘oÃ¡n nguy cÆ¡ máº¯c bá»‡nh tiá»ƒu Ä‘Æ°á»ng sá»­ dá»¥ng machine learning vÃ  web technologies.



## ğŸŒŸ TÃ­nh nÄƒng chÃ­nh## ğŸ—ï¸ Cáº¥u trÃºc Project



- ğŸ” **XÃ¡c thá»±c ngÆ°á»i dÃ¹ng**: ÄÄƒng kÃ½, Ä‘Äƒng nháº­p vá»›i email verification```

- ğŸ‘¥ **PhÃ¢n quyá»n**: User, Doctor, Admin vá»›i cÃ¡c quyá»n háº¡n khÃ¡c nhauWebsite-Diabetes Prediction/

- ğŸ“Š **Dá»± Ä‘oÃ¡n AI**: Sá»­ dá»¥ng 11+ thuáº­t toÃ¡n ML Ä‘á»ƒ dá»± Ä‘oÃ¡n tiá»ƒu Ä‘Æ°á»ngâ”œâ”€â”€ Backend/               # Node.js + TypeScript API

- ğŸ“ˆ **Quáº£n lÃ½ dá»¯ liá»‡u sá»©c khá»e**: LÆ°u trá»¯ vÃ  theo dÃµi cÃ¡c chá»‰ sá»‘ sá»©c khá»eâ”‚   â”œâ”€â”€ src/

- ğŸ“± **Responsive UI**: Giao diá»‡n thÃ­ch á»©ng má»i thiáº¿t bá»‹â”‚   â”‚   â”œâ”€â”€ configs/      # Cáº¥u hÃ¬nh database, environment

- ğŸ”” **ThÃ´ng bÃ¡o**: Email notifications vÃ  realtime updatesâ”‚   â”‚   â”œâ”€â”€ controllers/  # API Controllers

â”‚   â”‚   â”œâ”€â”€ middlewares/  # Middleware functions

## ğŸ› ï¸ Tech Stackâ”‚   â”‚   â”œâ”€â”€ models/      # Database models

â”‚   â”‚   â”œâ”€â”€ routes/      # API routes

### Backendâ”‚   â”‚   â”œâ”€â”€ services/    # Business logic

- **Runtime**: Node.js 18+â”‚   â”‚   â”œâ”€â”€ utils/       # Utility functions

- **Framework**: Express.js vá»›i TypeScriptâ”‚   â”‚   â””â”€â”€ server.ts    # Entry point

- **Database**: MongoDB vá»›i Mongoose ODMâ”‚   â”œâ”€â”€ package.json

- **Authentication**: JWT + bcryptjs + express-sessionâ”‚   â””â”€â”€ tsconfig.json

- **Email**: Nodemailer vá»›i Gmail SMTPâ””â”€â”€ Frontend/             # Next.js React Application (Sáº½ Ä‘Æ°á»£c phÃ¡t triá»ƒn)

- **Security**: Helmet, CORS, rate limiting```



### Machine Learning## ğŸš€ TÃ­nh nÄƒng chÃ­nh

- **Language**: Python 3.8+

- **Libraries**: scikit-learn, XGBoost, LightGBM, CatBoost### Backend API

- **Optimization**: Optuna hyperparameter tuning- **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng**: ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, xÃ¡c thá»±c email

- **Data Processing**: pandas, numpy, imbalanced-learn- **Dá»± Ä‘oÃ¡n bá»‡nh tiá»ƒu Ä‘Æ°á»ng**: Sá»­ dá»¥ng thuáº­t toÃ¡n ML Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ nguy cÆ¡

- **Visualization**: matplotlib, seaborn, plotly- **LÆ°u trá»¯ lá»‹ch sá»­**: Theo dÃµi cÃ¡c láº§n dá»± Ä‘oÃ¡n vÃ  dá»¯ liá»‡u sá»©c khá»e

- **Há»‡ thá»‘ng phÃ¢n quyá»n**: User, Doctor, Admin roles

### Frontend (Coming Soon)- **API RESTful**: Comprehensive endpoints cho frontend

- **Framework**: Next.js 14 vá»›i TypeScript

- **Styling**: Tailwind CSS### ML Model Features

- **State Management**: Redux Toolkit- PhÃ¢n tÃ­ch 8 chá»‰ sá»‘ sá»©c khá»e chÃ­nh:

- **Charts**: Chart.js / Recharts  - Sá»‘ láº§n mang thai (cho phá»¥ ná»¯)

  - Ná»“ng Ä‘á»™ glucose trong mÃ¡u

## ğŸ“ Cáº¥u trÃºc Project  - Huyáº¿t Ã¡p

  - Äá»™ dÃ y da

```  - Ná»“ng Ä‘á»™ insulin

Website-Diabetes Prediction/  - BMI (Chá»‰ sá»‘ khá»‘i cÆ¡ thá»ƒ)

â”œâ”€â”€ Backend/                 # API Server  - Diabetes Pedigree Function

â”‚   â”œâ”€â”€ src/  - Tuá»•i

â”‚   â”‚   â”œâ”€â”€ controllers/     # Route handlers

â”‚   â”‚   â”œâ”€â”€ models/         # MongoDB schemas## ğŸ› ï¸ Tech Stack

â”‚   â”‚   â”œâ”€â”€ services/       # Business logic

â”‚   â”‚   â”œâ”€â”€ routes/         # API routes### Backend

â”‚   â”‚   â”œâ”€â”€ middlewares/    # Auth, validation, error handling- **Node.js + TypeScript**: Runtime vÃ  ngÃ´n ngá»¯

â”‚   â”‚   â”œâ”€â”€ utils/          # Helper functions- **Express.js**: Web framework

â”‚   â”‚   â””â”€â”€ configs/        # Database, environment config- **MongoDB + Mongoose**: Database vÃ  ODM

â”‚   â”œâ”€â”€ package.json- **bcryptjs**: MÃ£ hÃ³a máº­t kháº©u

â”‚   â””â”€â”€ tsconfig.json- **nodemailer**: Gá»­i email xÃ¡c thá»±c

â”œâ”€â”€ ML/                     # Machine Learning Pipeline- **express-session**: Quáº£n lÃ½ session

â”‚   â”œâ”€â”€ diabetes_ml_pipeline.py    # Main ML pipeline- **http-status-codes**: HTTP status constants

â”‚   â”œâ”€â”€ notebooks/          # Jupyter notebooks for experiments

â”‚   â”œâ”€â”€ data/              # Training datasets### Frontend (Sáº¯p tá»›i)

â”‚   â”œâ”€â”€ models/            # Trained model files- **Next.js 14**: React framework vá»›i App Router

â”‚   â””â”€â”€ requirements.txt- **TypeScript**: Type safety

â”œâ”€â”€ Frontend/              # Web UI (Coming Soon)- **Tailwind CSS**: Styling framework

â””â”€â”€ README.md- **Chart.js**: Data visualization

```- **Axios**: HTTP client



## ğŸš€ CÃ i Ä‘áº·t vÃ  Cháº¡y## âš™ï¸ CÃ i Ä‘áº·t vÃ  Cháº¡y



### Prerequisites### Prerequisites

- Node.js 18+- Node.js (v18 trá»Ÿ lÃªn)

- Python 3.8+- MongoDB (local hoáº·c cloud)

- MongoDB (local hoáº·c MongoDB Atlas)- npm hoáº·c yarn

- Git

### Backend Setup

### 1. Clone Repository

```bash1. **Clone repository**

git clone <repository-url>   ```bash

cd Website-Diabetes-Prediction   git clone <repository-url>

```   cd Website-Diabetes Prediction/Backend

   ```

### 2. CÃ i Ä‘áº·t Backend

```bash2. **CÃ i Ä‘áº·t dependencies**

cd Backend   ```bash

npm install   npm install

```   ```



Táº¡o file `.env` trong thÆ° má»¥c Backend:3. **Cáº¥u hÃ¬nh environment**

```env   ```bash

PORT=8017   cp .env.example .env

MONGODB_URI=mongodb://localhost:27017/diabetes_prediction   ```

JWT_SECRET=your-super-secret-jwt-key   Chá»‰nh sá»­a file `.env` vá»›i thÃ´ng tin cá»§a báº¡n:

JWT_EXPIRES_IN=7d   - MongoDB connection string

SESSION_SECRET=your-session-secret   - Email SMTP settings

EMAIL_USER=your-email@gmail.com   - JWT secret keys

EMAIL_PASS=your-app-password

NODE_ENV=development4. **Cháº¡y development server**

```   ```bash

   npm run dev

### 3. CÃ i Ä‘áº·t ML Environment   ```

```bash

cd ML5. **Build cho production**

pip install -r requirements.txt   ```bash

```   npm run build

   npm start

### 4. Cháº¡y Application   ```



#### Backend Development Server### API Endpoints

```bash

cd Backend#### Authentication (`/api/v1/auth`)

npm run dev     # Development vá»›i nodemon- `POST /register` - ÄÄƒng kÃ½ tÃ i khoáº£n má»›i

npm run build   # Build TypeScript- `POST /verify-email` - XÃ¡c thá»±c email

npm start       # Production mode- `POST /login` - ÄÄƒng nháº­p

```- `POST /logout` - ÄÄƒng xuáº¥t

- `GET /profile` - Láº¥y thÃ´ng tin profile

#### Train ML Models- `PUT /profile` - Cáº­p nháº­t profile

```bash

cd ML#### Predictions (`/api/v1/predictions`)

python diabetes_ml_pipeline.py- `POST /` - Táº¡o dá»± Ä‘oÃ¡n má»›i

- `GET /my-predictions` - Láº¥y lá»‹ch sá»­ dá»± Ä‘oÃ¡n cá»§a user

# Hoáº·c sá»­ dá»¥ng Jupyter- `GET /statistics` - Thá»‘ng kÃª dá»± Ä‘oÃ¡n cá»§a user

jupyter notebook notebooks/diabetes_model_training.ipynb- `GET /:id` - Láº¥y chi tiáº¿t má»™t dá»± Ä‘oÃ¡n

```- `PUT /:id` - Cáº­p nháº­t dá»± Ä‘oÃ¡n (notes, review)

- `DELETE /:id` - XÃ³a dá»± Ä‘oÃ¡n

## ğŸ“‹ API Documentation

#### Admin/Doctor Routes

### Authentication Endpoints- `GET /predictions` - Xem táº¥t cáº£ dá»± Ä‘oÃ¡n (Doctor/Admin only)

- `POST /api/v1/auth/register` - ÄÄƒng kÃ½ tÃ i khoáº£n má»›i- `GET /auth/users` - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (Admin only)

- `POST /api/v1/auth/login` - ÄÄƒng nháº­p

- `POST /api/v1/auth/logout` - ÄÄƒng xuáº¥t## ğŸ“Š Thuáº­t toÃ¡n Dá»± Ä‘oÃ¡n

- `POST /api/v1/auth/verify-email` - XÃ¡c thá»±c email

- `POST /api/v1/auth/forgot-password` - QuÃªn máº­t kháº©uHá»‡ thá»‘ng sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh Ä‘Æ¡n giáº£n hÃ³a dá»±a trÃªn:

- **Chuáº©n hÃ³a dá»¯ liá»‡u**: Scale táº¥t cáº£ features vá» [0,1]

### User Management- **Weighted scoring**: Tá»«ng chá»‰ sá»‘ cÃ³ trá»ng sá»‘ khÃ¡c nhau

- `GET /api/v1/users/profile` - Láº¥y thÃ´ng tin profile- **Risk classification**: 

- `PUT /api/v1/users/profile` - Cáº­p nháº­t profile  - Tháº¥p (< 0.3): Nguy cÆ¡ tháº¥p

- `DELETE /api/v1/users/profile` - XÃ³a tÃ i khoáº£n  - Trung bÃ¬nh (0.3-0.6): Cáº§n theo dÃµi

  - Cao (> 0.6): NÃªn khÃ¡m bÃ¡c sÄ©

### Prediction Endpoints

- `POST /api/v1/predictions` - Táº¡o dá»± Ä‘oÃ¡n má»›i## ğŸ” Báº£o máº­t

- `GET /api/v1/predictions` - Láº¥y lá»‹ch sá»­ dá»± Ä‘oÃ¡n

- `GET /api/v1/predictions/:id` - Chi tiáº¿t dá»± Ä‘oÃ¡n- **Password hashing**: bcrypt vá»›i salt rounds = 12

- `DELETE /api/v1/predictions/:id` - XÃ³a dá»± Ä‘oÃ¡n- **Session-based auth**: Secure session cookies

- **Input validation**: Joi schema validation

### Admin Endpoints (Admin only)- **Rate limiting**: Sáº½ Ä‘Æ°á»£c thÃªm trong tÆ°Æ¡ng lai

- `GET /api/v1/admin/users` - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng- **CORS**: Configured cho frontend domain

- `GET /api/v1/admin/predictions/stats` - Thá»‘ng kÃª dá»± Ä‘oÃ¡n

## ğŸ“ Logging vÃ  Monitoring

## ğŸ¤– Machine Learning Models

- **Console logging**: Development vÃ  production logs

Pipeline sá»­ dá»¥ng 11 thuáº­t toÃ¡n khÃ¡c nhau:- **Error handling**: Centralized error middleware

- **Health check**: `/health` endpoint

1. **Logistic Regression** - Baseline model- **Database monitoring**: Connection status logging

2. **Random Forest** - Ensemble method

3. **XGBoost** - Gradient boosting## ğŸš§ Roadmap

4. **LightGBM** - Fast gradient boosting

5. **CatBoost** - Categorical boosting### Phase 1: Backend API (âœ… HoÃ n thÃ nh)

6. **Support Vector Machine** - Kernel methods- User authentication vÃ  authorization

7. **K-Nearest Neighbors** - Instance-based- Diabetes prediction engine

8. **Naive Bayes** - Probabilistic- RESTful API endpoints

9. **Decision Tree** - Interpretable model- Database design vÃ  models

10. **Extra Trees** - Randomized trees

11. **AdaBoost** - Adaptive boosting### Phase 2: Frontend Development (ğŸ”„ Tiáº¿p theo)

- Next.js application setup

### Model Performance- User interface design

- **Cross-validation**: 5-fold stratified- Data visualization components

- **Metrics**: Accuracy, Precision, Recall, F1-score, AUC-ROC- Responsive design

- **Hyperparameter tuning**: Optuna optimization

- **Class balancing**: SMOTE/ADASYN cho imbalanced data### Phase 3: Advanced Features (ğŸ“‹ Káº¿ hoáº¡ch)

- Advanced ML models (scikit-learn integration)

## ğŸ”’ Security Features- Real-time notifications

- Export reports (PDF)

- âœ… Password hashing vá»›i bcrypt (12 salt rounds)- Multi-language support

- âœ… JWT token authentication- Mobile app (React Native)

- âœ… Session management

- âœ… Email verification## ğŸ¤ Contributing

- âœ… Rate limiting

- âœ… CORS protection1. Fork project

- âœ… Helmet security headers2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)

- âœ… Input validation vÃ  sanitization3. Commit changes (`git commit -m 'Add some AmazingFeature'`)

- âœ… Error handling middleware4. Push to branch (`git push origin feature/AmazingFeature`)

5. Má»Ÿ Pull Request

## ğŸ§ª Testing

## ğŸ“„ License

```bash

# Unit testsDistributed under the MIT License. See `LICENSE` for more information.

npm run test

## ğŸ‘¥ Team

# Integration tests

npm run test:integration- **Backend Development**: Node.js + TypeScript API

- **Frontend Development**: Next.js React Application  

# Coverage report- **ML Integration**: Diabetes prediction algorithms

npm run test:coverage- **DevOps**: Deployment vÃ  monitoring

```

## ğŸ“Š Database Schema

### User
- `name`, `email`, `password`
- `role`: user | doctor | admin
- `isEmailVerified`, `emailVerificationToken`
- `createdAt`, `updatedAt`

### HealthData
- `userId` (ref: User)
- `pregnancies`, `glucose`, `bloodPressure`
- `skinThickness`, `insulin`, `bmi`
- `diabetesPedigreeFunction`, `age`
- `createdAt`

### PredictionResult
- `healthDataId` (ref: HealthData)
- `prediction`: 0 | 1 (No Diabetes | Diabetes)
- `probability`, `riskLevel`
- `modelUsed`, `recommendations`
- `createdAt`

## ğŸ¤ Contributing

1. Fork repository
2. Táº¡o feature branch: `git checkout -b feature/amazing-feature`
3. Commit changes: `git commit -m 'Add amazing feature'`
4. Push branch: `git push origin feature/amazing-feature`
5. Táº¡o Pull Request

## ğŸ“ License

Distributed under the MIT License. See `LICENSE` for more information.

## ğŸ‘¨â€ğŸ’» Authors

- **Joyce** - *Full Stack Developer* - [GitHub](https://github.com/joyce)

## ğŸ™ Acknowledgments

- Dataset: Pima Indians Diabetes Database
- ML Libraries: scikit-learn, XGBoost, LightGBM
- Backend Framework: Express.js
- Database: MongoDB

---

â­ **Star repository náº¿u project há»¯u Ã­ch!** â­